import { cn } from "@/lib/utils";

const GaugeMeter = ({ maxValue = 10, value }: { maxValue?: number, value: number }) => {
    const maxValueOneThird = maxValue / 3;
    const valuePart: 1 | 2 | 3 = value <= maxValueOneThird ? 1 : value <= (maxValueOneThird * 2) ? 2 : 3;
    return <div className="flex flex-col justify-center items-center">
        <div className="w-max h-max relative">
            <svg
                width="54"
                height="27"
                viewBox="0 0 54 27"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M0.659084 26.6892C0.290593 26.6892 -0.00900223 26.3903 0.000206772 26.022C0.106846 21.7569 1.23463 17.576 3.2931 13.8317C5.35156 10.0874 8.27729 6.89496 11.8213 4.5196C12.1274 4.31443 12.5402 4.40727 12.7377 4.7184C12.9351 5.02953 12.8424 5.4411 12.5366 5.64667C9.18222 7.90132 6.41265 10.9272 4.46248 14.4746C2.5123 18.0219 1.44142 21.9817 1.33508 26.022C1.32539 26.3903 1.02758 26.6892 0.659084 26.6892Z"
                    className="fill-primary"
                />


                <path
                    d="M40.4702 4.62171C40.6655 4.30921 41.0777 4.21349 41.3852 4.41651C44.9456 6.76707 47.8936 9.93905 49.9781 13.6689C52.0627 17.3988 53.2196 21.5717 53.3561 25.8359C53.3678 26.2042 53.0703 26.5051 52.7018 26.5077C52.3334 26.5102 52.0335 26.2135 52.0212 25.8452C51.8867 21.8058 50.7882 17.8536 48.8133 14.32C46.8384 10.7863 44.0477 7.77972 40.6778 5.54855C40.3705 5.34512 40.2749 4.93421 40.4702 4.62171Z"
                    className="fill-primary"
                />
                {/* center indicator */}
                {
                    valuePart === 2 && <path
                        d="M14.4155 4.56198C14.0433 3.89055 14.2845 3.04102 14.9744 2.7043C18.5865 0.941293 22.5561 0.0142426 26.5875 0.000162588C30.6188 -0.0139074 34.5948 0.885402 38.2192 2.62315C38.9114 2.95505 39.1585 3.80288 38.791 4.47688L27.646 24.9182C27.4677 25.2454 27.0485 25.3455 26.676 25.3468C26.3034 25.3481 25.8836 25.2509 25.7029 24.925L14.4155 4.56198Z"
                        className="fill-primary"
                    />
                }
                {/* right indicator */}
                {
                    valuePart === 3 && <path
                        d="M40.0876 5.23332C40.4941 4.58275 41.3535 4.38195 41.982 4.82176C45.2755 7.12635 48.0111 10.149 49.978 13.6683C51.9449 17.1877 53.086 21.1015 53.3231 25.1142C53.3684 25.88 52.7471 26.5067 51.98 26.5121L28.5216 26.6759C28.1815 26.6783 27.9161 26.388 27.7502 26.0911C27.5842 25.7942 27.4761 25.416 27.6563 25.1276L40.0876 5.23332Z"
                        className="fill-primary"
                    />
                }

                {/* left indicator */}
                {valuePart === 1 && <path
                    d="M2.2683 26.6888C1.01096 26.6888 -0.0183984 25.6676 0.0887256 24.4149C0.405494 20.7104 1.4937 17.1041 3.29292 13.8313C5.09213 10.5585 7.55394 7.70743 10.512 5.45501C11.5124 4.6933 12.9261 5.01526 13.5998 6.07687L25.8234 25.3381C25.9817 25.5876 25.89 25.9169 25.7477 26.1759C25.6053 26.4349 25.3764 26.6888 25.0809 26.6888H2.2683Z"
                    className="fill-primary"
                />}

                <path
                    d="M14.0651 3.92982C13.8865 3.60753 14.0026 3.20062 14.3292 3.03008C18.1112 1.05562 22.3147 0.0150825 26.5875 0.000162528C30.8603 -0.0147475 35.0709 0.996423 38.8666 2.94442C39.1944 3.11268 39.3134 3.51876 39.137 3.8423C38.9606 4.16583 38.5557 4.28426 38.2276 4.11643C34.6294 2.27577 30.6402 1.32046 26.5921 1.3346C22.5441 1.34873 18.5616 2.33187 14.9764 4.1976C14.6495 4.36771 14.2438 4.25212 14.0651 3.92982Z"
                    className="fill-primary"
                />

            </svg>

            <div className={cn('w-max h-max absolute bottom-0 -translate-x-1/2 left-1/2 origin-bottom', valuePart === 1 && '-rotate-60', valuePart === 3 && 'rotate-60')

            }>
                <svg
                    width="6"
                    height="19"
                    viewBox="0 0 6 19"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M3.1667 0.5C3.1667 0.2239 2.9428 0 2.6667 0C2.3906 0 2.1667 0.2239 2.1667 0.5H3.1667ZM2.6667 12.8333C1.1939 12.8333 0 14.0272 0 15.5C0 16.9728 1.1939 18.1667 2.6667 18.1667C4.1395 18.1667 5.3334 16.9728 5.3334 15.5C5.3334 14.0272 4.1395 12.8333 2.6667 12.8333ZM2.1667 0.5V15.5H3.1667V0.5H2.1667Z"
                        fill="white"
                    />
                </svg>
            </div>
        </div>
       <p className="font-bold text-base"> {value}</p>
    </div>

}

export default GaugeMeter;
